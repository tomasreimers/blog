(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2038],{14410:function(e,i,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/applications",function(){return s(71290)}])},69535:function(e,i,s){"use strict";s.d(i,{O:function(){return Breadcrumbs}});var t=s(85893),n=s(35185);function Breadcrumbs(){let{normalizePagesResult:{activePath:e},frontMatter:i}=(0,n.ZR)();return(0,t.jsxs)("div",{className:"nextra-breadcrumb mt-1.5 flex items-center gap-1 overflow-hidden text-sm text-gray-500 dark:text-gray-400 contrast-more:text-current",children:[(0,t.jsx)("span",{className:"whitespace-nowrap transition-colors font-medium text-gray-700 contrast-more:font-bold contrast-more:text-current dark:text-gray-100 contrast-more:dark:text-current",title:e[0].title,children:e[0].title}),(0,t.jsxs)("span",{className:"whitespace-nowrap font-medium contrast-more:font-bold text-gray-500 dark:text-gray-400 contrast-more:text-gray-800 contrast-more:dark:text-gray-50",title:e[0].title,children:["\xb7 ",i.readingTime," minute read (",i.wordCount.toLocaleString()," words)"]})]})}},83501:function(e,i,s){"use strict";s.d(i,{T:function(){return ByLine}});var t=s(85893),n=s(25675),a=s.n(n),r={src:"/_next/static/media/tomas.7b3bd350.jpg",height:1656,width:1600,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAKRNf//EAB0QAAIABwEAAAAAAAAAAAAAAAECAAMEEhMUITL/2gAIAQEAAT8Az0QdjsJyYEJv4GI8R//EABcRAAMBAAAAAAAAAAAAAAAAAAACQnL/2gAIAQIBAT8AWtH/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMicv/aAAgBAwEBPwCRKmEf/9k=",blurWidth:8,blurHeight:8};function ByLine(){return(0,t.jsx)("div",{className:"mt-2 flex items-center border-b pb-2 border-neutral-200/70 contrast-more:border-neutral-400 dark:border-primary-100/10 contrast-more:dark:border-neutral-400",children:(0,t.jsxs)("a",{href:"https://twitter.com/tomasreimers",target:"_blank",className:"flex items-center group",children:[(0,t.jsx)(a(),{className:"w-8 rounded-full mr-2",alt:"Tomas Reimers",src:r}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm transition-colors group-hover:text-primary-800 group-hover:dark:text-primary-600",children:"Tomas Reimers"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 contrast-more:text-gray-800 contrast-more:dark:text-gray-50",children:"Author"})]})]})})}},71290:function(e,i,s){"use strict";s.r(i),s.d(i,{useTOC:function(){return useTOC}});var t=s(85893),n=s(37812),a=s(36430),r=s(79299),h=s(69535),l=s(83501),d=s(45192);function useTOC(e){return[{value:"Single-page apps (SPAs)",id:"single-page-apps-spas",depth:2},{value:"History: Create React App",id:"history-create-react-app",depth:3},{value:"Vite",id:"vite",depth:3},{value:"React router",id:"react-router",depth:3},{value:"Deploying",id:"deploying",depth:3},{value:"Server-side rendering (SSR)",id:"server-side-rendering-ssr",depth:2},{value:"Static-site generation (SSG)",id:"static-site-generation-ssg",depth:2},{value:"Next.js",id:"nextjs",depth:2},{value:"Navigation",id:"navigation",depth:3},{value:"Server components / actions",id:"server-components--actions",depth:3},{value:"Bundle splitting",id:"bundle-splitting",depth:3},{value:"Everything else",id:"everything-else",depth:3},{value:"Alternative frameworks",id:"alternative-frameworks",depth:2}]}i.default=(0,n.c)(function(e){let{toc:i=useTOC(e)}=e,s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.O,{}),"\n",(0,t.jsx)(s.h1,{children:"Applications: Composing components"}),"\n",(0,t.jsx)(l.T,{}),"\n",(0,t.jsx)(s.p,{children:"Once you’ve started to write large parts of your website with React, the natural extension becomes why not write the whole website in React?"}),"\n",(0,t.jsx)(s.h2,{id:i[0].id,children:i[0].value}),"\n",(0,t.jsx)(s.p,{children:"One of the most common ways to write React apps are “single-page applications” (abbreviated SPAs, and pronounced S.P.A.s). In a SPA, the entire application is bundled into a single web-page."}),"\n",(0,t.jsx)(s.h3,{id:i[1].id,children:i[1].value}),"\n",(0,t.jsxs)(s.p,{children:["Although ",(0,t.jsx)(s.a,{href:"https://github.com/reactjs/react.dev/pull/5487#issuecomment-1409720741",children:"no longer officially supported"})," by the React documentation, the defacto way to create an SPA was ",(0,t.jsx)(s.a,{href:"https://create-react-app.dev/docs/getting-started",children:"Create React App"})," (abbreviated CRA, pronounced C.R.A): a scaffolder that sets up all the necessary build tooling for you (more on that in the next chapter), generates empty JS and CSS files for you to populate, and creates a single HTML file that looks something like this:"]}),"\n",(0,t.jsx)(s.pre,{tabIndex:"0","data-language":"html","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"html"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"head"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    ... YOUR CSS AND JS FILES ..."})}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"head"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"body"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" id"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"="}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"root"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#B31D28","--shiki-light-font-style":"italic","--shiki-dark":"#FDAEB7","--shiki-dark-font-style":"italic"},children:" /"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"body"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"</"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"html"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})}),"\n",(0,t.jsxs)(s.p,{children:["The boilerplate JS finds ",(0,t.jsx)(s.code,{children:"#root"})," and mounts your React into it, so all you have to do is write React. In addition, CRA installs a package ",(0,t.jsx)(s.code,{children:"react-scripts"})," that had scripts to develop, build, and test CRA projects."]}),"\n",(0,t.jsx)(s.p,{children:"Like other scaffolders, that can be invoked directly from the command line without downloading anything:"}),"\n",(0,t.jsx)(s.pre,{icon:d.Fx,tabIndex:"0","data-language":"bash","data-word-wrap":"",children:(0,t.jsx)(s.code,{children:(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npx"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create-react-app"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" my-app"})]})})}),"\n",(0,t.jsx)(s.h3,{id:i[2].id,children:i[2].value}),"\n",(0,t.jsxs)(s.p,{children:["Unfortunately, CRA is deprecated; however, ",(0,t.jsx)(s.a,{href:"https://vitejs.dev/guide/",children:"Vite"})," provides much of the same functionality:"]}),"\n",(0,t.jsx)(s.pre,{icon:d.Fx,tabIndex:"0","data-language":"bash","data-word-wrap":"",children:(0,t.jsx)(s.code,{children:(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npm"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" vite@latest"})]})})}),"\n",(0,t.jsx)(s.h3,{id:i[3].id,children:i[3].value}),"\n",(0,t.jsx)(s.p,{children:"While CRA only emits one HTML page, there are ways to make it seem as if your SPA has multiple pages."}),"\n",(0,t.jsx)(s.p,{children:"The simplest solution is what’s called “hash routing”, where your application has many “pages” and the URL encodes them after the “hash”. Hashes in URLs are intended to link across different sections on the same page, because of that browsers don’t send them up to the server and they don’t trigger reloads:"}),"\n",(0,t.jsx)(s.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/#sign-in"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/#forgot-password"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/#user-account"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"..."})})]})}),"\n",(0,t.jsxs)(s.p,{children:["Links (",(0,t.jsx)(s.code,{children:"<a>"}),") change the hash, and a framework can detect that and respond accordingly. One such framework is ",(0,t.jsx)(s.a,{href:"https://reactrouter.com/en/main/start/tutorial",children:"React Router"}),", which acts as a switch statement mapping URLs to React components:"]}),"\n",(0,t.jsx)(s.pre,{icon:d.KP,tabIndex:"0","data-language":"tsx","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" as"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" React "}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "react"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" *"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" as"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" ReactDOM "}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "react-dom/client"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" {"})]}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  createBrowserRouter,"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  RouterProvider,"})}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"} "}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"from"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "react-router-dom"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"import"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "./index.css"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:";"})]}),"\n",(0,t.jsx)(s.span,{children:" "}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"const"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" router"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" ="}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" createBrowserRouter"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(["})]}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  {"})}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    path: "}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"/"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:","})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    element: <"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">Hello world!</"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"div"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">,"})]}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  },"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"]);"})}),"\n",(0,t.jsx)(s.span,{children:" "}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"ReactDOM."}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"createRoot"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"(document."}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"getElementById"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:'"root"'}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"))."}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"render"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"("})]}),"\n",(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:"RouterProvider"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" router"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"="}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"{router} />"})]}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:");"})})]})}),"\n",(0,t.jsx)(s.p,{children:"Beyond hash routing, your SPA can also have “real” (path-based) URLs:"}),"\n",(0,t.jsx)(s.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/sign-in"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/forgot-password"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"your-single-page-app.com/user-account"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"..."})})]})}),"\n",(0,t.jsxs)(s.p,{children:["This is made possible by the ",(0,t.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/History_API",children:"history APIs"})," that allows you to change the URL without reloading the page. Links are replaced with custom ",(0,t.jsx)(s.code,{children:"<Link>"})," elements that take the same props as ",(0,t.jsx)(s.code,{children:"<a>"})," tags, but instead of actually causing the browser to navigate, they change the URL and update internal state of what page to show."]}),"\n",(0,t.jsx)(s.h3,{id:i[4].id,children:i[4].value}),"\n",(0,t.jsx)(s.p,{children:"Page-routing needs support from the server to work. For example, imagine I’ve navigated to “your-single-page-app.com/sign-in” and click refresh, the server returns a 404."}),"\n",(0,t.jsx)(s.p,{children:"SPAs are typically deployed in an environment where you tell the server to route all-non-existing routes to “index.html”, which, on load, reads the URL and shows the correct component."}),"\n",(0,t.jsx)(s.p,{children:"A word of caution, an easy way to “hack” this behavior setting index.html to be a custom 404 page (a common configuration of what page to return when querying for paths that don’t exist); however, this can harm your search engine ranking (frequently referred to as “search engine optimization”, or SEO)."}),"\n",(0,t.jsx)(s.h2,{id:i[5].id,children:i[5].value}),"\n",(0,t.jsx)(s.p,{children:"While SPAs are easy, they have a handful of problems:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Because the initial load has nothing, your first render for a user will be slow (as the browser needs to download all the JavaScript, parse it all, and execute it all before anything shows up)"}),"\n",(0,t.jsx)(s.li,{children:"Because the initial load has nothing, many search engines won’t index the contents of your page (Google has updated its crawler to run JavaScript and wait for the page to resolve, but not all of them have)"}),"\n",(0,t.jsxs)(s.li,{children:["Because the initial load has nothing, metadata tags (including ",(0,t.jsx)(s.a,{href:"https://ogp.me/",children:"what image to show when your link is shared on social media"}),") won’t be parsed by third-party services"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["A simple solution here was to begin server-side rendering webpages: rather than serving the empty HTML file, use a Nodejs server to do the initial render, and prepopulate the HTML. React then does its initial render on the client, reconciling against the HTML that already exists (a process called ",(0,t.jsx)(s.a,{href:"https://react.dev/reference/react-dom/client/hydrateRoot",children:"hydration"}),")."]}),"\n",(0,t.jsx)(s.h2,{id:i[6].id,children:i[6].value}),"\n",(0,t.jsx)(s.p,{children:"An alternative to SSR is to pre-render all of the pages at build time. While this doesn’t work for pages that have user generated content or depend on the logged in user, it works great for blogs and documentation which know all of their content at build time."}),"\n",(0,t.jsx)(s.h2,{id:i[7].id,children:i[7].value}),"\n",(0,t.jsxs)(s.p,{children:["Setting up SSR or SSG can be tricky, and these days the React docs ",(0,t.jsx)(s.a,{href:"https://react.dev/learn/start-a-new-react-project",children:"recommend"})," using a framework to do that for you. ",(0,t.jsx)(s.a,{href:"https://nextjs.org/",children:"Next.js"})," is a framework built by much of the original React team that optimizes not only site generation, but a whole lot of other things."]}),"\n",(0,t.jsxs)(s.p,{children:["Much like Create React App, there is a ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/api-reference/create-next-app",children:"Create Next App"}),":"]}),"\n",(0,t.jsx)(s.pre,{icon:d.Fx,tabIndex:"0","data-language":"bash","data-word-wrap":"",children:(0,t.jsx)(s.code,{children:(0,t.jsxs)(s.span,{children:[(0,t.jsx)(s.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"npx"}),(0,t.jsx)(s.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" create-next-app@latest"})]})})}),"\n",(0,t.jsx)(s.h3,{id:i[8].id,children:i[8].value}),"\n",(0,t.jsxs)(s.p,{children:["Out of the box, Next supports navigation. In Next there are two ways to define pages, the (now deprecated) ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/pages",children:"pages router"})," and the newer ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/routing",children:"app router"}),". An example project might look like:"]}),"\n",(0,t.jsx)(s.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"app/"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"  sign_in/"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"    page.js"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"  forgot_password/"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"    page.js"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"  account/"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"    settings/"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"      page.js"})})]})}),"\n",(0,t.jsxs)(s.p,{children:["Each route is defined as folder paths within ",(0,t.jsx)(s.code,{children:"app/"})," and must terminate with a ",(0,t.jsx)(s.code,{children:"page.js"}),". For example, this application would support the following URLs:"]}),"\n",(0,t.jsx)(s.pre,{tabIndex:"0","data-language":"plaintext","data-word-wrap":"",children:(0,t.jsxs)(s.code,{children:[(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"example.com/sign_in"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"example.com/forgot_password"})}),"\n",(0,t.jsx)(s.span,{children:(0,t.jsx)(s.span,{children:"example.com/account/settings"})})]})}),"\n",(0,t.jsxs)(s.p,{children:["And, in turn, each page.js must export a React component that ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts",children:"represents the page"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Much like React Router, Next provides a custom link that, on click, downloads the page and dynamically updates the DOM without triggering a browser refresh. (Something they confusingly name ",(0,t.jsx)(s.a,{href:"https://nextjs.org/learn-pages-router/basics/navigate-between-pages/client-side",children:"“client-side navigation”"}),", not to be confused with “client-side routing”, what React Router does.)"]}),"\n",(0,t.jsx)(s.h3,{id:i[9].id,children:i[9].value}),"\n",(0,t.jsxs)(s.p,{children:["Because every page is rendered on the server, Next introduces the concept of ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/rendering/server-components",children:"server components"})," and ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations",children:"server actions"})," that allow you to fetch data on the server or talk directly to your database."]}),"\n",(0,t.jsx)(s.p,{children:"While it’s possible to connect Next to your DB, many people choose not to use Next this way, and instead separate their API server from their Next server."}),"\n",(0,t.jsx)(s.h3,{id:i[10].id,children:i[10].value}),"\n",(0,t.jsx)(s.p,{children:"Next.js automatically optimizes your JavaScript through bundle splitting. Instead of loading all JavaScript at once, Next.js breaks your code into smaller chunks. When a user visits a page, they only download the JavaScript necessary for that specific page, significantly reducing initial load times. As users navigate to different pages, Next.js loads additional JavaScript chunks as needed."}),"\n",(0,t.jsx)(s.h3,{id:i[11].id,children:i[11].value}),"\n",(0,t.jsxs)(s.p,{children:["Next does a ton of other things for you: it ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/optimizing/images",children:"optimizes images"}),", ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/building-your-application/routing/linking-and-navigating#link-component",children:"preloads links"}),", and supports SSR, SSG, and ISR (a hybrid approach) out of the box (along with so many other features and optimizations)."]}),"\n",(0,t.jsxs)(s.p,{children:["Next is configured through the ",(0,t.jsx)(s.a,{href:"https://nextjs.org/docs/app/api-reference/next-config-js",children:(0,t.jsx)(s.code,{children:"next.config.js"})})," file (included at the root of your repo)."]}),"\n",(0,t.jsx)(s.h2,{id:i[12].id,children:i[12].value}),"\n",(0,t.jsxs)(s.p,{children:["There are other ways to set up server-side- and statically- rendered projects, including ",(0,t.jsx)(s.a,{href:"https://www.gatsbyjs.com/",children:"Gatsby"}),", ",(0,t.jsx)(s.a,{href:"https://remix.run/",children:"Remix"}),", and ",(0,t.jsx)(s.a,{href:"https://astro.build/",children:"Astro"})," (Vite even has support for ",(0,t.jsx)(s.a,{href:"https://vitejs.dev/guide/ssr.html",children:"generating a server"}),")."]}),"\n",(0,t.jsxs)(s.p,{children:["Personally, I’m skeptical. For better, or for ",(0,t.jsx)(s.a,{href:"https://blog.cassidoo.co/post/annoyed-at-react/",children:"worse"}),", Next.js now has a lot of the core React team working on it and is backed by a real company (",(0,t.jsx)(s.a,{href:"https://vercel.com/",children:"Vercel"}),"), which leads me to believe it will both shape the direction of React and outlive the alternatives. That said, who knows, it may not be winner take all."]})]})},"/applications",{filePath:"pages/applications.mdx",timestamp:173613957e4,pageMap:a.v,frontMatter:{wordCount:1124,readingTime:6},title:"Applications: Composing components"},"undefined"==typeof RemoteContent?useTOC:RemoteContent.useTOC)},36430:function(e,i,s){"use strict";s.d(i,{v:function(){return t}});let t=[{data:{index:{title:"Foreword",theme:{navbar:!0,breadcrumb:!1}},"-- Platform":{type:"separator",title:"WEB FUNDAMENTALS"},html:{title:"Chapter 1: HTML",theme:{breadcrumb:!1}},css:{title:"Chapter 2: CSS",theme:{breadcrumb:!1}},javascript:{title:"Chapter 3: JavaScript",theme:{breadcrumb:!1}},"-- React":{type:"separator",title:"REACT ESSENTIALS"},components:{title:"Chapter 4: Components",theme:{breadcrumb:!1}},applications:{title:"Chapter 5: Applications",theme:{breadcrumb:!1}},"build-tooling":{title:"Chapter 6: Build tooling",theme:{breadcrumb:!1}},"profiling-and-testing":{title:"Chapter 7: Profiling & testing",theme:{breadcrumb:!1}},"-- Design":{type:"separator",title:"DESIGN PRINCIPLES"},"design-systems":{title:"Chapter 8: Design systems",theme:{breadcrumb:!1}},graphics:{title:"Chapter 9: Graphics",theme:{breadcrumb:!1}},"-- Data":{type:"separator",title:"DATA ARCHITECTURE"},state:{title:"Chapter 10: Managing state",theme:{breadcrumb:!1}},network:{title:"Chapter 11: Network & sync",theme:{breadcrumb:!1}},"client-compute":{title:"Chapter 12: Client compute",theme:{breadcrumb:!1}}}},{name:"applications",route:"/applications",frontMatter:{sidebarTitle:"Applications"}},{name:"build-tooling",route:"/build-tooling",frontMatter:{sidebarTitle:"Build Tooling"}},{name:"client-compute",route:"/client-compute",frontMatter:{sidebarTitle:"Client Compute"}},{name:"components",route:"/components",frontMatter:{sidebarTitle:"Components"}},{name:"css",route:"/css",frontMatter:{sidebarTitle:"CSS"}},{name:"design-systems",route:"/design-systems",frontMatter:{sidebarTitle:"Design Systems"}},{name:"graphics",route:"/graphics",frontMatter:{sidebarTitle:"Graphics"}},{name:"html",route:"/html",frontMatter:{sidebarTitle:"HTML"}},{name:"index",route:"/",frontMatter:{sidebarTitle:"Index"}},{name:"javascript",route:"/javascript",frontMatter:{sidebarTitle:"JavaScript"}},{name:"network",route:"/network",frontMatter:{sidebarTitle:"Network"}},{name:"profiling-and-testing",route:"/profiling-and-testing",frontMatter:{sidebarTitle:"Profiling and Testing"}},{name:"state",route:"/state",frontMatter:{sidebarTitle:"State"}}]}},function(e){e.O(0,[7812,9774,2888,179],function(){return e(e.s=14410)}),_N_E=e.O()}]);