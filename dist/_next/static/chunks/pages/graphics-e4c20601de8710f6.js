(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5557],{60589:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/graphics",function(){return n(83183)}])},83501:function(e,t,n){"use strict";n.d(t,{T:function(){return ByLine}});var a=n(85893),r=n(25675),i=n.n(r),s={src:"/_next/static/media/tomas.7b3bd350.jpg",height:1656,width:1600,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgACAMBIgACEQEDEQH/xAAoAAEBAAAAAAAAAAAAAAAAAAAABAEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAAKRNf//EAB0QAAIABwEAAAAAAAAAAAAAAAECAAMEEhMUITL/2gAIAQEAAT8Az0QdjsJyYEJv4GI8R//EABcRAAMBAAAAAAAAAAAAAAAAAAACQnL/2gAIAQIBAT8AWtH/xAAYEQACAwAAAAAAAAAAAAAAAAAAAQMicv/aAAgBAwEBPwCRKmEf/9k=",blurWidth:8,blurHeight:8};function ByLine(){return(0,a.jsxs)("div",{className:"mt-2 flex items-center border-b pb-2 border-neutral-200/70 contrast-more:border-neutral-400 dark:border-primary-100/10 contrast-more:dark:border-neutral-400",children:[(0,a.jsx)(i(),{className:"w-8 rounded-full mr-2",alt:"Tomas Reimers",src:s}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm",children:"Tomas Reimers"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 contrast-more:text-gray-800 contrast-more:dark:text-gray-50",children:"Author"})]})]})}},57558:function(e,t,n){"use strict";n.d(t,{e:function(){return Example}});var a=n(85893),r=n(82183),i=n(82010);function Example(e){let{files:t,template:n,console:s,visibleFiles:o,dependencies:l}=e,d=(0,i.F)();return(0,a.jsx)(r.xR,{options:{classes:{"sp-layout":"mt-6"},showConsole:s,visibleFiles:o},customSetup:{dependencies:l},files:t,template:n,theme:"dark"===d.resolvedTheme?"dark":"light"})}},4152:function(e,t,n){"use strict";var a=n(85893),r=n(11163);n(67294);let i={faviconGlyph:"\uD83D\uDCDA",logo:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"font-black",children:"FRONTEND DOCS"}),(0,a.jsx)("span",{className:"font-black text-xs px-2 py-1 ml-2 rounded-md border text-gray-600 border-gray-300 dark:text-gray-400 dark:border-gray-700",children:"DRAFT"})]}),docsRepositoryBase:"https://github.com/tomasreimers/frontend-docs",footer:{component:null},nextThemes:{defaultTheme:"dark"},sidebar:{titleComponent(e){let{type:t,title:n,route:r}=e;return"doc"===t&&["#",""].includes(r)?(0,a.jsx)("span",{className:"text-gray-300 dark:text-neutral-600",title:"Coming soon",children:n}):(0,a.jsx)(a.Fragment,{children:n})}},feedback:{content:(0,a.jsx)(a.Fragment,{children:"Questions? Leave me feedback →"})},editLink:{text:(0,a.jsx)(a.Fragment,{children:"Opinions? Suggest an edit →"})},toc:{extraContent:(0,a.jsxs)("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400 contrast-more:text-gray-800 contrast-more:dark:text-gray-50",children:[(0,a.jsx)("p",{children:"Hi! My name is Tomas; I have been programming for the web for 15+ years and developed reactive frontend frameworks at Facebook."}),(0,a.jsx)("p",{className:"mt-2",children:"This site is a ~20-page, front-to-back-readable guide on some of the knowledge, opinions, and intuition I've picked up along the way."}),(0,a.jsx)("p",{className:"mt-2",children:"This is still under development, so feel free to suggest edits or follow me on Twitter for updates."})]})},project:{},search:{component:null},head:()=>{let{asPath:e}=(0,r.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:creator",content:"@tomasreimers"}),(0,a.jsx)("meta",{property:"og:image",content:"https://frontenddocs.com/api/og".concat(e,"image.png")})]})},useNextSeoProps:()=>({titleTemplate:"%s – Frontend docs",defaultTitle:"Frontend docs",description:"A ~20-page, front-to-back-readable guide on writing frontend for experienced developers."})};t.Z=i},83183:function(e,t,n){"use strict";n.r(t),n.d(t,{__toc:function(){return c}});var a=n(85893),r=n(92673),i=n(66430),s=n(4152);n(59059);var o=n(82643),l=n(57558),d=n(83501);let c=[{depth:2,value:"SVGs: declarative graphics",id:"svgs-declarative-graphics"},{depth:3,value:"CSS interop",id:"css-interop"},{depth:3,value:"Embedding HTML",id:"embedding-html"},{depth:3,value:"SVG animation",id:"svg-animation"},{depth:3,value:"Lottie",id:"lottie"},{depth:2,value:"Canvas: pixel perfect control",id:"canvas-pixel-perfect-control"},{depth:3,value:"Libraries",id:"libraries"},{depth:2,value:"WebGL: GPU performance",id:"webgl-gpu-performance"},{depth:3,value:"ThreeJS",id:"threejs"},{depth:3,value:"React three fiber",id:"react-three-fiber"},{depth:2,value:"WebGPU",id:"webgpu"}];function _createMdxContent(e){let t=Object.assign({h1:"h1",p:"p",ol:"ol",li:"li",h2:"h2",a:"a",code:"code",pre:"pre",span:"span",h3:"h3"},(0,o.a)(),e.components);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{children:"Graphics: Adding wow"}),"\n",(0,a.jsx)(d.T,{}),"\n",(0,a.jsx)(t.p,{children:"Some graphics, visualizations, and other dynamic content cannot (easily) be expressed in HTML and CSS alone. For those, it might be worth switching to an alternative technology. As a general rule,"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Start with HTML and CSS"}),"\n",(0,a.jsx)(t.li,{children:"If you can't render the visualization in HTML, try SVG, which is a richer way to declaratively express grahics and illustrations (including first-class support for animations)"}),"\n",(0,a.jsx)(t.li,{children:"If SVGs are insufficient, because you need more interaction or graphical filters, canvas provides a full... well, canvas, that you can render on."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"svgs-declarative-graphics",children:"SVGs: declarative graphics"}),"\n",(0,a.jsxs)(t.p,{children:["While HTML and CSS are a wonderful declarative language to describe documents, they don't work so well for complex graphics. ",(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/SVG",children:"SVG"})," is a declarative, XML format to describe graphics."]}),"\n",(0,a.jsxs)(t.p,{children:["Like HTML, SVG provides a handful of ",(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/Element",children:"primitive tags"}),"; however, unlike HTML, those primitives are used for drawing (for example, line, rectangle, etc.)"]}),"\n",(0,a.jsx)(t.p,{children:"Because it's XML-based, SVGs can:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Be embedded in HTML"}),"\n",(0,a.jsx)(t.li,{children:"Rendered with React"}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:'At their core, SVGs define shapes on an infinite canvas (somewhat like HTML), and then provide a "viewbox" or rectangle in that canvas that it should render (specified as two pairs of X/Y coordinates).'}),"\n",(0,a.jsx)(l.e,{template:"static",files:{"/index.html":'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Demo app</title>\n  </head>\n  <body>\n    <svg viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">\n      <!-- Simple rectangle -->\n      <rect width="100" height="100" />\n\n      <!-- Rounded corner rectangle -->\n      <rect x="120" width="100" height="100" rx="15" />\n    </svg>\n  </body>\n</html>'}}),"\n",(0,a.jsxs)(t.p,{children:["SVGs can either be inlined (e.g. above), or they can be included as an ",(0,a.jsx)(t.code,{children:"img"})," tag (by saving in a separate file and pointing the ",(0,a.jsx)(t.code,{children:"img"})," tag's ",(0,a.jsx)(t.code,{children:"src"})," attribute to that file)."]}),"\n",(0,a.jsx)(t.p,{children:"Unlike HTML, where the syntax is meant to be written by hand, the syntax for SVGs can get complicated quickly. For example, here is the syntax to define a polygon (the points are pairs of X/Y coordinates):"}),"\n",(0,a.jsx)(t.pre,{"data-language":"svg","data-theme":"default",children:(0,a.jsx)(t.code,{"data-language":"svg","data-theme":"default",children:(0,a.jsx)(t.span,{className:"line",children:(0,a.jsx)(t.span,{style:{color:"var(--shiki-color-text)"},children:'<polygon points="5,5 195,10 185,185 10,195" fill="red" />'})})})}),"\n",(0,a.jsx)(t.p,{children:"For that reason, many people use a library to generate SVGs (or just export them from an image editor)."}),"\n",(0,a.jsx)(t.h3,{id:"css-interop",children:"CSS interop"}),"\n",(0,a.jsx)(t.p,{children:"Because SVG and HTML are so interoperable, CSS can actually effect both. For example,"}),"\n",(0,a.jsx)(l.e,{template:"static",files:{"/index.html":'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Demo app</title>\n    <link rel="stylesheet" href="/styles.css" />\n  </head>\n  <body>\n    <svg viewBox="0 0 220 100" xmlns="http://www.w3.org/2000/svg">\n      <!-- Simple rectangle -->\n      <rect width="100" height="100" />\n\n      <!-- Rounded corner rectangle -->\n      <rect x="120" width="100" height="100" rx="15" />\n    </svg>\n  </body>\n</html>',"/styles.css":"svg rect {\n  fill: red;\n}"}}),"\n",(0,a.jsx)(t.h3,{id:"embedding-html",children:"Embedding HTML"}),"\n",(0,a.jsxs)(t.p,{children:["Not only can you embed SVGs in HTML, you can also embd HTML in SVGs using ",(0,a.jsx)(t.code,{children:"foreignObject"}),":"]}),"\n",(0,a.jsx)(l.e,{template:"static",files:{"/index.html":'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Demo app</title>\n  </head>\n  <body>\n    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">\n      <polygon points="5,5 195,10 185,185 10,195" fill="red" />\n\n      <foreignObject x="20" y="20" width="160" height="160">\n        <div xmlns="http://www.w3.org/1999/xhtml">\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed mollis mollis\n          mi ut ultricies. Nullam magna ipsum, porta vel dui convallis, rutrum\n          imperdiet eros. Aliquam erat volutpat.\n        </div>\n      </foreignObject>\n    </svg>\n  </body>\n</html>'}}),"\n",(0,a.jsx)(t.h3,{id:"svg-animation",children:"SVG animation"}),"\n",(0,a.jsxs)(t.p,{children:["SVGs can be animated via the ",(0,a.jsx)(t.code,{children:"animate"})," primitive (sometimes called ",(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL",children:"SMIL"}),")."]}),"\n",(0,a.jsx)(l.e,{template:"static",files:{"/index.html":'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Demo app</title>\n  </head>\n  <body>\n    <svg width="300" height="100">\n      <rect x="0" y="0" width="300" height="100" stroke="black" stroke-width="1" />\n      <circle cx="0" cy="50" r="15" fill="blue" stroke="black" stroke-width="1">\n        <animate\n          attributeName="cx"\n          from="0"\n          to="500"\n          dur="5s"\n          repeatCount="indefinite" />\n      </circle>\n    </svg>\n  </body>\n</html>'}}),"\n",(0,a.jsx)(t.h3,{id:"lottie",children:"Lottie"}),"\n",(0,a.jsxs)(t.p,{children:["Again, while animations can be written by hand, most designers prefer to iterate on them in a graphics editor and later export the animation. ",(0,a.jsx)(t.a,{href:"https://lottiefiles.com/what-is-lottie",children:"Lottie"})," is a format developed by Airbnb to export SVG animations as JSON files."]}),"\n",(0,a.jsx)(t.h2,{id:"canvas-pixel-perfect-control",children:"Canvas: pixel perfect control"}),"\n",(0,a.jsx)(t.p,{children:"While SVGs are powerful, sometimes you really want pixel-perfect control. For that, there is Canvas."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API",children:"Canvas"})," allows developers to define an area that they can programmatically draw on."]}),"\n",(0,a.jsx)(l.e,{template:"react",files:{"/App.js":'import React, { useRef, useEffect } from "react";\nimport { createRoot } from "react-dom/client";\n\nexport default function App() {\n  const ref = useRef();\n  useEffect(() => {\n    const canvas = ref.current;\n    const ctx = canvas.getContext("2d");\n\n    ctx.fillStyle = "green";\n    ctx.fillRect(10, 10, 150, 100);\n  }, []);\n  \n  return <canvas ref={ref} />\n}'}}),"\n",(0,a.jsx)(t.h3,{id:"libraries",children:"Libraries"}),"\n",(0,a.jsxs)(t.p,{children:["Because the Canvas API is so low level, many people use a higher level library (e.g. ",(0,a.jsx)(t.a,{href:"https://pixijs.com/",children:"Pixi"})," and ",(0,a.jsx)(t.a,{href:"http://fabricjs.com/",children:"Fabric"}),")."]}),"\n",(0,a.jsx)(t.h2,{id:"webgl-gpu-performance",children:"WebGL: GPU performance"}),"\n",(0,a.jsx)(t.p,{children:"If you start to use Canvas for realtime graphics (or games), you'll quickly run into a performance problem. This isn't specific to JavaScript, and why native apps leverage the graphics card for anything intense (a specialized piece of hardware that can quickly do mathematical operations involved in rendering 3D graphics)."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API",children:"WebGL"})," allows JavaScript to use the graphics card."]}),"\n",(0,a.jsx)(t.h3,{id:"threejs",children:"ThreeJS"}),"\n",(0,a.jsxs)(t.p,{children:["The APIs behind WebGL, especially for 3D, are really low level, and as a result, most people interact with it through a library, specifically ",(0,a.jsx)(t.a,{href:"https://threejs.org/",children:"Three.js"}),". Three handles all of the internals of 3D rendering, and provides human-readable primatives for math, shapes, cameras, etc."]}),"\n",(0,a.jsx)(l.e,{template:"vanilla",dependencies:{three:"^0.166.1"},files:{"/index.html":'<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <title>Demo app</title>\n  </head>\n  <body>\n  </body>\n</html>',"/index.js":"import * as THREE from 'three';\n\nconst scene = new THREE.Scene();\nconst camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );\n\nconst renderer = new THREE.WebGLRenderer();\nrenderer.setSize( window.innerWidth, window.innerHeight );\nrenderer.setAnimationLoop( animate );\ndocument.body.appendChild( renderer.domElement );\n\nconst geometry = new THREE.BoxGeometry( 1, 1, 1 );\nconst material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );\nconst cube = new THREE.Mesh( geometry, material );\nscene.add( cube );\n\ncamera.position.z = 5;\n\nfunction animate() {\n\n	cube.rotation.x += 0.01;\n	cube.rotation.y += 0.01;\n\n	renderer.render( scene, camera );\n\n}\n\nconsole.log(\"HI\");"}}),"\n",(0,a.jsx)(t.h3,{id:"react-three-fiber",children:"React three fiber"}),"\n",(0,a.jsxs)(t.p,{children:["Like many Graphics libraries, Three is imperative in nature; because it is not declarative, it can be awkward to use alongside React. ",(0,a.jsx)(t.a,{href:"https://docs.pmnd.rs/react-three-fiber/getting-started/introduction",children:"React-three-fiber"})," bridges that gap, by providing react primatives for Three concepts."]}),"\n",(0,a.jsx)(l.e,{template:"react",dependencies:{"@react-three/fiber":"^8.16.8",three:"^0.166.1"},files:{"/App.js":"import React, { useRef, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\n\nfunction Box(props) {\n  // This reference will give us direct access to the mesh\n  const meshRef = useRef()\n  // Set up state for the hovered and active state\n  const [hovered, setHover] = useState(false)\n  const [active, setActive] = useState(false)\n  // Subscribe this component to the render-loop, rotate the mesh every frame\n  useFrame((state, delta) => (meshRef.current.rotation.x += delta))\n  // Return view, these are regular three.js elements expressed in JSX\n  return (\n    <mesh\n      {...props}\n      ref={meshRef}\n      scale={active ? 1.5 : 1}\n      onClick={(event) => setActive(!active)}\n      onPointerOver={(event) => setHover(true)}\n      onPointerOut={(event) => setHover(false)}>\n      <boxGeometry args={[1, 1, 1]} />\n      <meshStandardMaterial color={hovered ? 'hotpink' : 'orange'} />\n    </mesh>\n  )\n}\n\nexport default function App() {\n  return <Canvas>\n    <ambientLight intensity={Math.PI / 2} />\n    <spotLight position={[10, 10, 10]} angle={0.15} penumbra={1} decay={0} intensity={Math.PI} />\n    <pointLight position={[-10, -10, -10]} decay={0} intensity={Math.PI} />\n    <Box position={[-1.2, 0, 0]} />\n    <Box position={[1.2, 0, 0]} />\n  </Canvas>;\n}"}}),"\n",(0,a.jsx)(t.p,{children:"In addition, it will do all the necessary Three.js cleanup as elements are mounted and unmounted."}),"\n",(0,a.jsx)(t.h2,{id:"webgpu",children:"WebGPU"}),"\n",(0,a.jsxs)(t.p,{children:["While WebGL is very powerful, it's also getting old. GPUs have really advanced in leaps and bounds over the past few years and the ",(0,a.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebGPU_API",children:"WebGPU"})," spec is a successor to WebGL currently being implemented that provides access to new GPU features, and enables developers to leverage the GPU for general-purpose compute."]})]})}let h={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:t}=Object.assign({},(0,o.a)(),e.components);return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(_createMdxContent,{...e})}):_createMdxContent(e)},pageOpts:{filePath:"pages/graphics.mdx",route:"/graphics",timestamp:1722827763e3,pageMap:[{kind:"Meta",data:{index:{type:"page",title:"Frontend docs",display:"hidden",theme:{layout:"raw"}},foreword:"Foreword","-- Platform":{type:"separator",title:"WEB FUNDAMENTALS"},html:"Chapter 1: HTML",css:"Chapter 2: CSS",javascript:"Chapter 3: JavaScript","-- React":{type:"separator",title:"REACT ESSENTIALS"},components:"Chapter 4: Components",applications:"Chapter 5: Applications","build-tooling":"Chapter 6: Build tooling","profiling-and-testing":"Chapter 7: Profiling & testing","-- Design":{type:"separator",title:"DESIGN PRINCIPLES"},"design-systems":"Chapter 8: Design systems",graphics:"Chapter 9: Graphics","-- Data":{type:"separator",title:"DATA ARCHITECTURE"},state:"Chapter 10: Managing state",network:"Chapter 11: Network & sync","client-compute":"Chapter 12: Client compute",contact:{title:"Want updates? Follow me on Twitter ↗",type:"page",href:"https://twitter.com/tomasreimers",newWindow:!0}}},{kind:"MdxPage",name:"applications",route:"/applications"},{kind:"MdxPage",name:"build-tooling",route:"/build-tooling"},{kind:"MdxPage",name:"client-compute",route:"/client-compute"},{kind:"MdxPage",name:"components",route:"/components"},{kind:"MdxPage",name:"css",route:"/css"},{kind:"MdxPage",name:"design-systems",route:"/design-systems"},{kind:"MdxPage",name:"foreword",route:"/foreword"},{kind:"MdxPage",name:"graphics",route:"/graphics"},{kind:"MdxPage",name:"html",route:"/html"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"javascript",route:"/javascript"},{kind:"MdxPage",name:"network",route:"/network"},{kind:"MdxPage",name:"profiling-and-testing",route:"/profiling-and-testing"},{kind:"MdxPage",name:"state",route:"/state"}],flexsearch:{codeblocks:!0},title:"Graphics: Adding wow",headings:c},pageNextRoute:"/graphics",nextraLayout:i.ZP,themeConfig:s.Z};t.default=(0,r.j)(h)}},function(e){e.O(0,[5762,1827,3678,4911,9774,2888,179],function(){return e(e.s=60589)}),_N_E=e.O()}]);